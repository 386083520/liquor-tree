{"version":3,"file":"liquor-tree.esm.js","sources":["../src/components/TreeNode.vue","../src/utils/recurse.js","../src/utils/find.js","../src/lib/Node.js","../src/utils/uuidV4.js","../src/utils/objectToNode.js","../src/utils/stack.js","../src/utils/treeParser.js","../src/lib/Tree.js","../src/utils/keyboardNavigation.js","../src/mixins/TreeMixin.js","../src/components/TreeRoot.vue","../src/main.js"],"sourcesContent":["<template>\r\n  <li class=\"tree-node\" :class=\"nodeClass\">\r\n    <div class=\"tree-content\" :style=\"{'padding-left': paddingLeft}\" @mouseup=\"select\" @touchend=\"select\">\r\n      <i\r\n        class=\"tree-arrow\"\r\n        :class=\"{'expanded': node.states.expanded, 'has-child': node.children.length}\"\r\n        @click.stop=\"toggleExpand\">\r\n      </i>\r\n\r\n      <i\r\n        v-if=\"options.checkbox\"\r\n        class=\"tree-checkbox\"\r\n        :class=\"{'checked': node.states.checked, 'indeterminate': node.states.indeterminate}\"\r\n        @click.stop=\"check\">\r\n      </i>\r\n\r\n      <a\r\n        href=\"javascript:void(0)\"\r\n        class=\"tree-anchor\"\r\n        tabindex=\"1\"\r\n        ref=\"anchor\"\r\n        @focus=\"onNodeFocus\">\r\n          <node-content :node=\"node\" />\r\n      </a>\r\n    </div>\r\n\r\n    <transition name=\"l-fade\">\r\n      <ul\r\n        v-if=\"hasChildren() && state.expanded\"\r\n        class=\"tree-children\">\r\n          <node\r\n            v-for=\"child in node.children\"\r\n            v-if=\"child.visible()\"\r\n\r\n            :key=\"child.id\"\r\n            :node=\"child\"\r\n            :options=\"options\"\r\n            >\r\n          </node>\r\n      </ul>\r\n    </transition>\r\n  </li>\r\n</template>\r\n\r\n<script>\r\n  const TreeNode = {\r\n    name: 'Node',\r\n    inject: ['tree'],\r\n    props: ['node', 'options'],\r\n\r\n    components: {\r\n      NodeContent: {\r\n        props: ['node'],\r\n        render(h) {\r\n          const node = this.node\r\n          const vm = this.node.tree.vm\r\n\r\n          return vm.$scopedSlots.default\r\n            ? vm.$scopedSlots.default({ node: this.node })\r\n            : h('span', {\r\n              domProps: {\r\n                innerHTML: node.text\r\n              }\r\n            })\r\n        }\r\n      }\r\n    },\r\n\r\n    data() {\r\n      this.node.vm = this\r\n\r\n      return {\r\n        state: this.node.states\r\n      }\r\n    },\r\n\r\n    computed: {\r\n      paddingLeft() {\r\n        return this.node.depth * this.options.paddingLeft + 'px'\r\n      },\r\n\r\n      nodeClass() {\r\n        let state = this.state\r\n        let hasChildren = this.hasChildren()\r\n        let classes = {\r\n          'has-child': hasChildren,\r\n          'expanded': hasChildren && state.expanded,\r\n          'selected': state.selected,\r\n          'disabled': state.disabled\r\n        }\r\n\r\n        if (this.options.checkbox) {\r\n          classes['checked'] = state.checked\r\n          classes['indeterminate'] = state.indeterminate\r\n        }\r\n\r\n        return classes\r\n      }\r\n    },\r\n\r\n    methods: {\r\n      onNodeFocus() {\r\n        this.tree.activeElement = this.node\r\n      },\r\n\r\n      focus() {\r\n        this.$refs.anchor.focus()\r\n        this.node.select()\r\n      },\r\n\r\n      check() {\r\n        if (this.node.checked()) {\r\n          this.node.uncheck()\r\n        } else {\r\n          this.node.check()\r\n        }\r\n      },\r\n\r\n      select({ctrlKey} = evnt) {\r\n        const opts = this.options\r\n\r\n        if (opts.checkbox && opts.checkOnSelect) {\r\n          if (!opts.parentSelect && this.hasChildren()) {\r\n            return this.toggleExpand()\r\n          }\r\n\r\n          return this.check(ctrlKey)\r\n        }\r\n\r\n        // 'parentSelect' behaviour.\r\n        // For nodes which has a children list we have to expand/collapse\r\n        if (!opts.parentSelect && this.hasChildren()) {\r\n          return this.toggleExpand()\r\n        }\r\n\r\n        let tree = this.tree\r\n        let node = this.node\r\n\r\n        if (opts.multiple) {\r\n          if (!node.selected()) {\r\n            node.select(ctrlKey)\r\n          } else {\r\n            if (ctrlKey) {\r\n              node.unselect()\r\n            } else {\r\n              tree.unselectAll()\r\n              node.select()\r\n            }\r\n          }\r\n        } else {\r\n          if (node.selected()) {\r\n            node.unselect()\r\n          } else {\r\n            node.select()\r\n          }\r\n        }\r\n      },\r\n\r\n      toggleExpand() {\r\n        if (this.hasChildren()) {\r\n          this.node.toggleExpand()\r\n        }\r\n      },\r\n\r\n      hasChildren() {\r\n        return this.node.hasChildren()\r\n      }\r\n    }\r\n  }\r\n\r\n  export default TreeNode\r\n</script>\r\n\r\n<style>\r\n  .tree-node {\r\n    white-space: nowrap;\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .tree-content {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 4px;\r\n    cursor: pointer;\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  .tree-node:not(.selected) > .tree-content:hover {\r\n    background: #f6f8fb;\r\n  }\r\n\r\n  .tree-node.selected > .tree-content {\r\n    background-color: #e7eef7;\r\n  }\r\n\r\n  .tree-node.disabled > .tree-content:hover {\r\n    background: inherit;\r\n  }\r\n\r\n  .tree-arrow {\r\n    display: inline-block;\r\n    height: 30px;\r\n    cursor: pointer;\r\n    margin-left: 30px;\r\n    width: 0;\r\n  }\r\n\r\n  .tree-arrow.has-child {\r\n    margin-left: 0;\r\n    width: 30px;\r\n    position: relative;\r\n  }\r\n\r\n  .tree-arrow.has-child:after {\r\n    border: 1.5px solid #494646;\r\n    position: absolute;\r\n    border-left: 0;\r\n    border-top: 0;\r\n    left: 9px;\r\n    top: 50%;\r\n    height: 9px;\r\n    width: 9px;\r\n    transform: rotate(-45deg) translateY(-50%) translateX(0);\r\n    transition: transform .25s;\r\n    transform-origin: center;\r\n  }\r\n\r\n  .tree-arrow.expanded.has-child:after {\r\n    transform: rotate(45deg) translateY(-50%) translateX(-5px);\r\n  }\r\n\r\n  .tree-checkbox {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 30px;\r\n    height: 30px;\r\n    box-sizing: border-box;\r\n    border: 1px solid #dadada;\r\n    border-radius: 2px;\r\n    background: #fff;\r\n    transition: border-color .25s, background-color .25s;\r\n  }\r\n\r\n  .tree-checkbox:after,\r\n  .tree-arrow:after {\r\n    position: absolute;\r\n    display: block;\r\n    content: \"\";\r\n  }\r\n\r\n  .tree-checkbox.checked,\r\n  .tree-checkbox.indeterminate {\r\n    background-color: #3a99fc;\r\n    border-color: #218eff;\r\n  }\r\n\r\n  .tree-checkbox.checked:after {\r\n    box-sizing: content-box;\r\n    border: 1.5px solid #fff; /* probably width would be rounded in most cases */\r\n    border-left: 0;\r\n    border-top: 0;\r\n    left: 9px;\r\n    top: 3px;\r\n    height: 15px;\r\n    width: 8px;\r\n    transform: rotate(45deg) scaleY(0);\r\n    transition: transform .25s;\r\n    transform-origin: center;\r\n  }\r\n\r\n  .tree-checkbox.checked:after {\r\n    transform: rotate(45deg) scaleY(1);\r\n  }\r\n\r\n  .tree-checkbox.indeterminate:after {\r\n    background-color: #fff;\r\n    top: 50%;\r\n    left: 20%;\r\n    right: 20%;\r\n    height: 2px;\r\n  }\r\n\r\n  .tree-anchor {\r\n    flex-grow: 2;\r\n    outline: none;\r\n    display: flex;\r\n    text-decoration: none;\r\n    color: #343434;\r\n    vertical-align: top;\r\n    margin-left: 3px;\r\n    line-height: 24px;\r\n    padding: 3px 6px;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n  }\r\n\r\n  .tree-node.selected .tree-anchor {\r\n    outline: none;\r\n  }\r\n\r\n  .tree-node.disabled .tree-anchor {\r\n    color: #989191;\r\n    background: #fff;\r\n    opacity: .6;\r\n    cursor: default;\r\n    outline: none;\r\n  }\r\n\r\n  .l-fade-enter-active, .l-fade-leave-active {\r\n    transition: opacity .3s, transform .3s;\r\n    transform: translateX(0);\r\n  }\r\n\r\n  .l-fade-enter, .l-fade-leave-to {\r\n    opacity: 0;\r\n    transform: translateX(-2em);\r\n  }\r\n\r\n\r\n  .tree--small .tree-anchor {\r\n    line-height: 19px;\r\n  }\r\n\r\n  .tree--small .tree-checkbox {\r\n    width: 23px;\r\n    height: 23px;\r\n  }\r\n\r\n  .tree--small .tree-arrow {\r\n    height: 23px;\r\n  }\r\n\r\n  .tree--small .tree-checkbox.checked:after {\r\n    left: 7px;\r\n    top: 3px;\r\n    height: 11px;\r\n    width: 5px;\r\n  }\r\n\r\n</style>\r\n","\r\nexport function recurseDown(obj, fn) {\r\n  let res;\r\n\r\n  if (Array.isArray(obj)) {\r\n    return obj.map(node => recurseDown(node, fn))\r\n  }\r\n\r\n  res = fn(obj);\r\n\r\n  // Recurse children\r\n  if (res !== false && obj.hasChildren()) {\r\n      res = recurseDown(obj.children, fn);\r\n  }\r\n\r\n  return res;\r\n}\r\n","const $div = document.createElement('div')\r\n\r\nfunction finder(criteria) {\r\n  return function(node) {\r\n    return Object.keys(criteria).every(key => {\r\n      let val = node[key]\r\n      let c = getRegExp(criteria[key])\r\n\n      if ('states' == key) {\n        let states = criteria[key]\n\n        return Object.keys(states).every(s => node[key][s] === states[s])\n      } else {\n        if ('text' == key) {\r\n          $div.innerHTML = val\r\n          val = $div.innerText\r\n        }\r\n\r\n        return c.test(val)\r\n      }\n    })\r\n  }\r\n}\r\n\r\nfunction getRegExp(val) {\r\n  if (val instanceof RegExp) {\r\n    return val\r\n  }\r\n\r\n  return new RegExp(`^${val}$`, 'g')\r\n}\r\n\r\nfunction getAllChildren(source) {\r\n  let result = []\r\n\r\n  source.forEach(function collect(node) {\r\n    result.push(node)\r\n\r\n    if (node.children) {\r\n      node.children.forEach(collect)\r\n    }\r\n  })\r\n\r\n  return result\r\n}\r\n\r\n\r\nexport default function find(source, criteria, deep = true) {\r\n  if (!source || !source.length) {\r\n    return null\r\n  }\r\n\r\n  if (deep) {\r\n    source = getAllChildren(source)\r\n  }\r\n\r\n  // find by index\r\n  if ('number' == typeof criteria) {\r\n    return source[criteria] || null\r\n  }\r\n\r\n  if ('string' == typeof criteria || criteria instanceof RegExp) {\r\n    criteria = {\r\n      text: criteria\r\n    }\r\n  }\r\n\r\n  if ('function' != typeof criteria) {\r\n    criteria = finder(criteria)\r\n  }\r\n\r\n  let result = source.filter(criteria)\r\n\r\n  if (result.length) {\r\n    return result[0]\r\n  }\r\n\r\n  return null\r\n}\r\n","import { recurseDown } from '@/utils/recurse'\r\nimport find from '@/utils/find'\r\n\r\nexport default class Node {\r\n  constructor(tree, item) {\r\n    this.id = item.id\r\n    this.states = item.state\r\n\r\n    this.children = item.children || []\r\n    this.parent = item.parent || null\r\n\r\n    this._data = Object.assign({}, {\r\n      text: item.text\r\n    }, item.data || {})\r\n\r\n    if (!tree) {\r\n      throw new Error('Node must has a Tree context!')\r\n    }\r\n\r\n    this.tree = tree\r\n  }\r\n\r\n  $emit(evnt, ...args) {\r\n    this.tree.$emit(`node:${evnt}`, this, ...args)\r\n  }\r\n\r\n  get depth() {\r\n    let depth = 0\r\n    let parent = this.parent\r\n\r\n    if (!parent) {\r\n      return depth\r\n    }\r\n\r\n    do {\r\n      depth++\r\n    } while(parent = parent.parent)\r\n\r\n    return depth\r\n  }\r\n\r\n  get text() {\r\n    return this.data('text')\r\n  }\r\n\r\n  set text(text) {\r\n    let oldText = this.text\r\n\r\n    this.data('text', text)\r\n    this.tree.$emit('node:text:changed', text, oldText)\r\n  }\r\n\r\n  data(name, value) {\r\n    if (undefined === value) {\r\n      return this._data[name]\r\n    }\r\n\r\n    this._data[name] = value\r\n    return this\r\n  }\r\n\r\n  state(name, value) {\r\n    if (undefined === value) {\r\n      return this.states[name]\r\n    }\r\n\r\n    // TODO: check if it for example `selectable` state it should unselect node\r\n\r\n    this.states[name] = value\r\n\r\n    return this\r\n  }\r\n\r\n  recurseUp(fn, node = this) {\r\n    if (!node.parent) {\r\n      return\r\n    }\r\n\r\n    if (false !== fn(node.parent)) {\r\n      return this.recurseUp(fn, node.parent)\r\n    }\r\n  }\r\n\r\n  recurseDown(fn, ignoreThis) {\r\n    if (true !== ignoreThis) {\r\n      fn(this)\r\n    }\r\n\r\n    if (this.hasChildren()) {\r\n      recurseDown(this.children, fn)\r\n    }\r\n  }\r\n\r\n  refreshIndeterminateState() {\r\n    if (!this.tree.options.autoCheckChildren) {\r\n      return this\r\n    }\r\n\r\n    this.state('indeterminate', false)\r\n\r\n    if (this.hasChildren()) {\r\n      let childrenCount = this.children.length\r\n      let checked = 0\r\n      let indeterminate = 0\r\n      let disabled = 0\r\n\r\n      this.children.forEach(child => {\r\n        if (child.checked()) {\r\n          checked++\r\n        }\r\n\r\n        if (child.disabled()) {\r\n          disabled++\r\n        }\r\n\r\n        if (child.indeterminate()) {\r\n          indeterminate++\r\n        }\r\n      })\r\n\r\n      if (checked == childrenCount - disabled) {\r\n        if (!this.checked()) {\r\n          this.state('checked', true)\r\n          this.$emit('checked')\r\n        }\r\n      } else {\r\n        if (this.checked()) {\r\n          this.state('checked', false)\r\n          this.$emit('unchecked')\r\n        }\r\n\r\n        this.state(\r\n          'indeterminate',\r\n          indeterminate > 0 || (checked > 0 && checked < childrenCount)\r\n        )\r\n      }\r\n    }\r\n\r\n    if (this.parent) {\r\n      this.parent.refreshIndeterminateState()\r\n    }\r\n  }\r\n\r\n\r\n  indeterminate() {\r\n    return this.state('indeterminate')\r\n  }\r\n\r\n\r\n  selectable() {\r\n    return !this.state('disabled') && this.state('selectable')\r\n  }\r\n\r\n  selected() {\r\n    return this.state('selected')\r\n  }\r\n\r\n  select(extendList) {\r\n    if (!this.selectable() || this.selected()) {\r\n      return this\r\n    }\r\n\r\n    this.tree.select(this, extendList)\r\n\r\n    this.state('selected', true)\r\n    this.$emit('selected')\r\n\r\n    return this\r\n  }\r\n\r\n  unselect() {\r\n    if (!this.selectable() || !this.selected()) {\r\n      return this\r\n    }\r\n\r\n    this.tree.unselect(this)\r\n\r\n    this.state('selected', false)\r\n    this.$emit('unselected')\r\n\r\n    return this\r\n  }\r\n\r\n\r\n\r\n  checked() {\r\n    return this.state('checked')\r\n  }\r\n\r\n  check() {\r\n    if (this.checked() || this.disabled()) {\r\n      return this\r\n    }\r\n\r\n    if (this.indeterminate()) {\r\n      return this.uncheck()\r\n    }\r\n\r\n    if (this.tree.options.autoCheckChildren) {\r\n      this.recurseDown(node => {\r\n        node.state('indeterminate', false)\r\n\r\n        if (!node.checked()) {\r\n          this.tree.check(node)\r\n\r\n          node.state('checked', true)\r\n          node.$emit('checked')\r\n        }\r\n      })\r\n\r\n      if (this.parent) {\r\n        this.parent.refreshIndeterminateState()\r\n      }\r\n    } else {\r\n      this.tree.check(this)\r\n\r\n      this.state('checked', true)\r\n      this.$emit('checked')\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  uncheck() {\r\n    if (!this.indeterminate() && !this.checked() || this.disabled()) {\r\n      return this\r\n    }\r\n\r\n    if (this.tree.options.autoCheckChildren) {\r\n      this.recurseDown(node => {\r\n        node.state('indeterminate', false)\r\n\r\n        if (node.checked()) {\r\n          this.tree.uncheck(node)\r\n\r\n          node.state('checked', false)\r\n          node.$emit('unchecked')\r\n        }\r\n      })\r\n\r\n      if (this.parent) {\r\n        this.parent.refreshIndeterminateState()\r\n      }\r\n    } else {\r\n      this.tree.uncheck(this)\r\n\r\n      this.state('checked', false)\r\n      this.$emit('unchecked')\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n\r\n\r\n  show() {\r\n    if (this.visible()) {\r\n      return this\r\n    }\r\n\r\n    this.state('visible', true)\r\n    this.$emit('shown')\r\n\r\n    return this\r\n  }\r\n\r\n  hide() {\r\n    if (this.hidden()) {\r\n      return this\r\n    }\r\n\r\n    this.state('visible', false)\r\n    this.$emit('hidden')\r\n\r\n    return this\r\n  }\r\n\r\n  visible() {\r\n    return this.state('visible')\r\n  }\r\n\r\n  hidden() {\r\n    return !this.state('visible')\r\n  }\r\n\r\n\r\n\r\n  enable() {\r\n    if (this.enabled()) {\r\n      return this\r\n    }\r\n\r\n    this.recurseDown(node => {\r\n      if (node.disabled()) {\r\n        node.state('disabled', false)\r\n        node.$emit('enabled')\r\n      }\r\n    })\r\n\r\n    return this\r\n  }\r\n\r\n  enabled() {\r\n    return !this.state('disabled')\r\n  }\r\n\r\n  disable() {\r\n    if (this.disabled()) {\r\n      return this\r\n    }\r\n\r\n    this.recurseDown(node => {\r\n      if (node.enabled()) {\r\n        node.state('disabled', true)\r\n        node.$emit('disabled')\r\n      }\r\n    })\r\n\r\n    return this\r\n  }\r\n\r\n  disabled() {\r\n    return this.state('disabled')\r\n  }\r\n\r\n\r\n  expand() {\r\n    if (!this.hasChildren() || this.expanded() || this.disabled()) {\r\n      return this\r\n    }\r\n\r\n    this.state('expanded', true)\r\n    this.$emit('expanded')\r\n\r\n    return this\r\n  }\r\n\r\n  expanded() {\r\n    return this.state('expanded')\r\n  }\r\n\r\n  collapse() {\r\n    if (!this.hasChildren() || this.collapsed() || this.disabled()) {\r\n      return this\r\n    }\r\n\r\n    this.state('expanded', false)\r\n    this.$emit('collapsed')\r\n\r\n    return this\r\n  }\r\n\r\n  collapsed() {\r\n    return !this.state('expanded')\r\n  }\r\n\r\n  toggleExpand() {\r\n    return this._toggleOpenedState()\r\n  }\r\n\r\n  toggleCollapse() {\r\n    return this._toggleOpenedState()\r\n  }\r\n\r\n  _toggleOpenedState() {\r\n    if (this.disabled() || !this.hasChildren()) {\r\n      return this\r\n    }\r\n\r\n    if (this.expanded()) {\r\n      return this.collapse()\r\n    }\r\n\r\n    return this.expand()\r\n  }\r\n\r\n\r\n  index(verbose) {\r\n    return this.tree.index(this, verbose)\r\n  }\r\n\r\n  first() {\r\n    if (!this.hasChildren()) {\r\n      return null\r\n    }\r\n\r\n    return this.children[0]\r\n  }\r\n\r\n  last() {\r\n    if (!this.hasChildren()) {\r\n      return null\r\n    }\r\n\r\n    return this.children[this.children.length - 1]\r\n  }\r\n\r\n  next() {\r\n    return this.tree.nextNode(this)\r\n  }\r\n\r\n  prev() {\r\n    return this.tree.prevNode(this)\r\n  }\r\n\r\n\r\n  insertAt(node, index = this.children.length) {\r\n    node = this.tree.objectToNode(node)\r\n    node.parent = this\r\n\r\n    this.children.splice(\r\n      index, 0, node\r\n    )\r\n\r\n    this.$emit('added', node)\r\n\r\n    return node\r\n  }\r\n\r\n  addChild(node) {\r\n    return this.insertAt(node)\r\n  }\r\n\r\n  append(node) {\r\n    return this.addChild(node)\r\n  }\r\n\r\n  prepend(node) {\r\n    return this.insertAt(node, 0)\r\n  }\r\n\r\n  before(node) {\r\n    return this.tree.before(this, node)\r\n  }\r\n\r\n  after(node) {\r\n    return this.tree.after(this, node)\r\n  }\r\n\r\n  empty() {\r\n    let node\r\n\r\n    while( node = this.children.pop() ) {\r\n      node.remove()\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  remove() {\r\n    return this.tree.removeNode(this)\r\n  }\r\n\r\n  removeChild(criteria) {\r\n    let node = this.find(criteria)\r\n\r\n    if (node) {\r\n      return this.tree.removeNode(node)\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n\r\n\r\n  find(criteria, deep) {\r\n    if (criteria instanceof Node) {\r\n      return criteria\r\n    }\r\n\r\n    return find(this.children, criteria, deep)\r\n  }\r\n\r\n  focus() {\r\n    if (this.vm) {\r\n      this.vm.focus()\r\n    }\r\n  }\r\n\r\n  hasChildren() {\r\n    return this.children.length > 0\r\n  }\r\n\r\n  /**\r\n  * Sometimes it's no need to have a parent. It possible to have more than 1 parent\r\n  */\r\n  isRoot() {\r\n    return null === this.parent\r\n  }\r\n}\r\n","\n// it is not genuine GUIDs\n\nfunction s4() {\n  return Math.floor((1 + Math.random()) * 0x10000)\n    .toString(16)\n    .substring(1);\n}\n\nexport default function uuidV4() {\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n    s4() + '-' + s4() + s4() + s4()\n}\n","import Node from '@/lib/Node'\r\nimport uuidV4 from '@/utils/uuidV4'\r\n\r\n/**\r\n* Default Node's states\r\n*/\r\nconst nodeStates = {\r\n  selected: false,\r\n  selectable: true,\r\n  checked: false,\r\n  expanded: false,\r\n  disabled: false,\r\n  visible: true,\r\n  indeterminate: false\r\n}\r\n\r\nfunction merge(state = {}) {\r\n  return Object.assign({}, nodeStates, state)\r\n}\r\n\r\nexport default function objectToNode(tree, obj) {\r\n  let node = null\r\n\n  if (obj instanceof Node) {\n    return obj\n  }\n\r\n  if ('string' == typeof obj) {\r\n    node = new Node(tree, {\r\n      text: obj,\r\n      state: merge(),\r\n      id: uuidV4()\r\n    })\r\n  } else {\r\n    node = new Node(tree, obj)\r\n    node.states = merge(node.states)\r\n\r\n    if (!node.id) {\r\n      node.id = uuidV4()\r\n    }\r\n\r\n    if (node.children.length) {\r\n      node.children = node.children.map(child => {\r\n        child = objectToNode(tree, child)\r\n        child.parent = node\r\n\r\n        return child\r\n      })\r\n    }\r\n  }\r\n\r\n  return node\r\n}\r\n","\r\nexport class List extends Array {\r\n  constructor() {\r\n    super()\r\n  }\r\n\r\n  empty() {\r\n    this.splice(0, this.length)\r\n\r\n    return this\r\n  }\r\n\r\n  add(...items) {\r\n    this.push(...items)\r\n\r\n    return this\r\n  }\r\n\r\n  remove(item) {\r\n    let index = this.indexOf(item)\r\n\r\n    if (-1 == index) {\r\n      return this\r\n    }\r\n\r\n    this.splice(index, 1)\r\n\r\n    return this\r\n  }\r\n\r\n  removeAll(item) {\r\n    while(this.includes(item)) {\r\n      this.remove(item)\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  top() {\r\n    return this[this.length - 1]\r\n  }\r\n}\r\n","import objectToNode from '@/utils/objectToNode'\r\n\r\n/**\r\n  Every Node has certain format:\r\n  {\r\n    id,           // Unique Node id. By default it generates using uuidV4\r\n    text,         // Node text\r\n    children,     // List of children. Each children has the same format\r\n    parent,       // Parent Node or null. The tree is able to have more than 1 root node\r\n    state,        // States of Node. Ex.: selected, checked and so on\r\n    data          // Any types of data. It is similar to `storage`.\r\n                  // Ex.: data: {myAwesomeProperty: 10}. To get this property you need: Node.data('myAwesomeProperty')\r\n  }\r\n*/\r\n\r\n\r\nlet defaultPropertyNames = {\r\n  id: 'id',\r\n  text: 'text',\r\n  children: 'children',\r\n  state: 'state',\r\n  data: 'data'\r\n}\r\n\r\n\r\nfunction convertNames(obj, names) {\r\n  return {\r\n    id: obj[names.id],\r\n    text: obj[names.text],\r\n    children: obj[names.children],\r\n    state: obj[names.state],\r\n    data: obj[names.data]\r\n  }\r\n}\r\n\r\n\r\nconst TreeParser = {\r\n  parse(data, tree, options = {}) {\r\n    if ('string' == typeof data) {\r\n      data = JSON.parse(data)\r\n    }\r\n\r\n    if (!Array.isArray(data)) {\r\n      data = [data]\r\n    }\r\n\r\n    let p = Object.assign(\r\n      {},\r\n      defaultPropertyNames,\r\n      options\r\n    )\r\n\r\n    let preparedItems = data.map(function converter(item) {\r\n      let convertedItem = convertNames(item, p)\r\n\n      // Possible to receive 1 child like a simple object. It must be converted to an array\n      // We do not have checks on the correctness of the format. A developer should pass correct format\n      if (convertedItem.children && !Array.isArray(convertedItem.children)) {\n        convertedItem.children = [convertedItem.children]\n      }\n\r\n      if (convertedItem.children) {\r\n        convertedItem.children = convertedItem.children.map(converter)\r\n      }\r\n\r\n      return convertedItem\r\n    })\r\n\r\n    return preparedItems.map(item => objectToNode(tree,item))\r\n  }\r\n}\r\n\r\nexport { TreeParser }\r\n","import Node from '@/lib/Node'\r\n\r\nimport find from '@/utils/find'\r\nimport objectToNode from '@/utils/objectToNode'\r\nimport { List } from '@/utils/stack'\r\nimport { TreeParser } from '@/utils/treeParser'\r\nimport { recurseDown } from '@/utils/recurse'\r\n\r\n\r\nexport default class Tree {\r\n  constructor(vm) {\r\n    this.vm = vm\r\n    this.options = vm.options\r\n\r\n    this.activeElement = null\r\n  }\r\n\r\n  $on(name, ...args) {\r\n    this.vm.$on(name, ...args)\r\n  }\r\n\r\n  $once(name, ...args) {\r\n    this.vm.$once(name, ...args)\r\n  }\r\n\r\n  $off(name, ...args) {\r\n    this.vm.$off(name, ...args)\r\n  }\r\n\r\n  $emit(name, ...args) {\r\n    this.vm.$emit(name, ...args)\r\n  }\r\n\r\n\r\n  setModel(model) {\r\n    this.model = model\r\n\r\n    /**\r\n    * VueJS transform properties to reactives when constructor is running\r\n    * And we lose List object (extended from Array)\r\n    */\r\n    this.selectedNodes = new List\r\n    this.checkedNodes = new List\r\n\r\n    recurseDown(model, node => {\r\n      node.tree = this\r\n\r\n      if (node.selected()) {\r\n        this.selectedNodes.add(node)\r\n      }\r\n\r\n      if (node.checked()) {\r\n        this.checkedNodes.add(node)\r\n\r\n        if (node.parent) {\r\n          node.parent.refreshIndeterminateState()\r\n        }\r\n      }\r\n    })\r\n\r\n    if (!this.options.multiple && this.selectedNodes.length) {\r\n      let top = this.selectedNodes.top()\r\n\r\n      this.selectedNodes.forEach(node => {\r\n        if (top !== node) {\r\n          node.state('selected', false)\r\n        }\r\n      })\r\n\r\n      this.selectedNodes\r\n        .empty()\r\n        .add(top)\r\n    }\r\n\r\n    // Nodes can't be selected on init. By it's possible to select through API\r\n    if (this.options.checkOnSelect && this.options.checkbox) {\r\n      this.unselectAll()\r\n    }\r\n  }\r\n\r\n  recurseDown(node, fn) {\r\n    if (!fn && node) {\r\n      fn = node\r\n      node = this.model\r\n    }\r\n\r\n    if ('function' != typeof fn) {\r\n      new TypeError('Argument must be a function')\r\n    }\r\n\r\n    return recurseDown(node, fn)\r\n  }\r\n\r\n\r\n  select(node, extendList) {\r\n    const treeNode = this.getNode(node)\r\n\r\n    if (!treeNode) {\r\n      return false\r\n    }\r\n\r\n    if (this.options.multiple && extendList) {\r\n      this.selectedNodes.add(treeNode)\r\n    } else {\r\n      this.unselectAll()\r\n      this.selectedNodes\r\n        .empty()\r\n        .add(treeNode)\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  selectAll() {\r\n    if (!this.options.multiple) {\r\n      return false\r\n    }\r\n\r\n    this.selectedNodes.empty()\r\n\r\n    this.recurseDown(node => {\r\n      this.selectedNodes.add(\r\n        node.select(true)\r\n      )\r\n    })\r\n\r\n    return true\r\n  }\r\n\r\n  unselect(node) {\r\n    const treeNode = this.getNode(node)\r\n\r\n    if (!treeNode) {\r\n      return false\r\n    }\r\n\r\n    this.selectedNodes.remove(treeNode)\r\n\r\n    return true\r\n  }\r\n\r\n  unselectAll() {\r\n    let node\r\n\r\n    while (node = this.selectedNodes.pop()) {\r\n      node.unselect()\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n\r\n  check(node) {\r\n    this.checkedNodes.add(node)\r\n  }\r\n\r\n  uncheck(node) {\r\n    this.checkedNodes.remove(node)\r\n  }\r\n\r\n  checkAll() {\r\n    this.recurseDown(node => {\r\n      if (0 == node.depth) {\r\n        if (node.indeterminate()) {\r\n          node.state('indeterminate', false)\r\n        }\r\n\r\n        node.check()\r\n      }\r\n    })\r\n  }\r\n\r\n  uncheckAll() {\r\n    let node\r\n\r\n    while (node = this.checkedNodes.pop()) {\r\n      node.uncheck()\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n\r\n  expand(node) {\r\n    if (node.expanded()) {\r\n      return false\r\n    }\r\n\r\n    node.expand()\r\n\r\n    return true\r\n  }\r\n\r\n  collapse(node) {\r\n    if (node.collapsed()) {\r\n      return false\r\n    }\r\n\r\n    node.collapse()\r\n\r\n    return true\r\n  }\r\n\r\n  toggleExpand(node) {\r\n    if (!node.hasChildren()) {\r\n      return false\r\n    }\r\n\r\n    node.toggleExpand()\r\n\r\n    return true\r\n  }\r\n\r\n  toggleCollapse(node) {\r\n    if (!node.hasChildren()) {\r\n      return false\r\n    }\r\n\r\n    node.toggleCollapse()\r\n\r\n    return true\r\n  }\r\n\r\n  expandAll() {\r\n    this.recurseDown(node => {\r\n      if (node.hasChildren() && node.collapsed()) {\r\n        node.expand()\r\n      }\r\n    })\r\n  }\r\n\r\n  collapseAll() {\r\n    this.recurseDown(node => {\r\n      if (node.hasChildren() && node.expanded()) {\r\n        node.collapse()\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  index(node, verbose) {\r\n    let target = node.parent\r\n\r\n    if (target) {\r\n      target = target.children\r\n    } else {\r\n      target = this.model\r\n    }\r\n\r\n    let index = target.indexOf(node)\r\n\r\n    if (verbose) {\r\n      return {\r\n        index: index,\r\n        target,\r\n        node: target[index]\r\n      }\r\n    }\r\n\r\n    return index\r\n  }\r\n\r\n  nextNode(node) {\r\n    let { target, index } = this.index(node, true)\r\n\r\n    return target[index + 1] || null\r\n  }\r\n\r\n  nextVisibleNode(node) {\r\n    if (node.hasChildren() && node.expanded()) {\r\n      return node.first()\r\n    }\r\n\r\n    let nextNode = this.nextNode(node)\r\n\r\n    if (!nextNode && node.parent) {\r\n      return node.parent.next()\r\n    }\r\n\r\n    return nextNode\r\n  }\r\n\r\n  prevNode(node) {\r\n    let { target, index } = this.index(node, true)\r\n\r\n    return target[index - 1] || null\r\n  }\r\n\r\n  prevVisibleNode(node) {\r\n    let prevNode = this.prevNode(node)\r\n\r\n    if (!prevNode) {\r\n      return node.parent\r\n    }\r\n\r\n    if (prevNode.hasChildren() && prevNode.expanded()) {\r\n      return prevNode.last()\r\n    }\r\n\r\n    return prevNode\r\n  }\r\n\r\n\r\n\r\n  addToModel(node, index = this.model.length) {\r\n    node = this.objectToNode(node)\r\n\r\n    this.model.splice(index, 0, node)\r\n    this.recurseDown(node, n => {\r\n      n.tree = this\r\n    })\r\n\r\n    this.$emit('node:added', node)\r\n  }\r\n\r\n\r\n  append(criteria, node) {\r\n    let targetNode = this.find(criteria)\r\n\r\n    if (targetNode) {\r\n      return targetNode.append(node)\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  prepend(criteria, node) {\r\n    let targetNode = this.find(criteria)\r\n\r\n    if (targetNode) {\r\n      return targetNode.prepend(node)\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  before(targetNode, sourceNode) {\r\n    targetNode = this.find(targetNode)\r\n\r\n    let position = this.index(targetNode, true)\r\n    let node = this.objectToNode(sourceNode)\r\n\r\n    if (!~position.index) {\r\n      return false\r\n    }\r\n\r\n    position.target.splice(\r\n      position.index,\r\n      0,\r\n      node\r\n    )\r\n\r\n    this.$emit('node:added', node)\r\n\r\n    return sourceNode\r\n  }\r\n\r\n  after(targetNode, sourceNode) {\r\n    targetNode = this.find(targetNode)\r\n\r\n    let position = this.index(targetNode, true)\r\n    let node = this.objectToNode(sourceNode)\r\n\r\n    if (!~position.index) {\r\n      return false\r\n    }\r\n\r\n    position.target.splice(\r\n      position.index + 1,\r\n      0,\r\n      node\r\n    )\r\n\r\n    this.$emit('node:added', node)\r\n\r\n    return sourceNode\r\n  }\r\n\r\n\r\n\r\n  addNode(node) {\r\n    const index = this.model.length\r\n\r\n    node = objectToNode(node)\r\n\r\n    this.model.splice(index, 0, node)\r\n    this.$emit('node:added', node)\r\n\r\n    return node\r\n  }\r\n\r\n  remove(criteria) {\r\n    return this.removeNode(\r\n      this.find(criteria)\r\n    )\r\n  }\r\n\r\n  removeNode(node) {\r\n    if (!node.parent) {\r\n      this.model.splice(\r\n        this.model.indexOf(node),\r\n        1\r\n      )\r\n    } else {\r\n      node.parent.children.splice(\r\n        node.parent.children.indexOf(node),\r\n        1\r\n      )\r\n    }\r\n\r\n    if (node.parent) {\r\n      if (node.parent.indeterminate() && !node.parent.hasChildren()) {\r\n        node.parent.state('indeterminate', false)\r\n      }\r\n    }\r\n\r\n    this.$emit('node:removed', node)\r\n\r\n    this.selectedNodes.remove(node)\r\n    this.checkedNodes.remove(node)\r\n\n    node.parent = null\n\r\n    return node\r\n  }\r\n\r\n\r\n\r\n\r\n  isNode(node) {\r\n    return node instanceof Node\r\n  }\r\n\r\n\r\n  find(criteria) {\r\n    if (criteria instanceof Node) {\r\n      return criteria\r\n    }\r\n\r\n    return find(\r\n      this.model,\r\n      criteria\r\n    )\r\n  }\r\n\r\n  getNode(node) {\r\n    if (node instanceof Node) {\r\n      return node\r\n    }\r\n\r\n    return null\r\n  }\r\n\r\n  objectToNode(obj) {\r\n    return objectToNode(this, obj)\r\n  }\r\n\r\n  parse(data, options) {\r\n    if (!options) {\r\n      options = this.options.propertyNames\r\n    }\r\n\r\n    try {\r\n      return TreeParser.parse(data, this, options)\r\n    } catch(e) {\r\n      console.error(e)\r\n      return []\r\n    }\r\n  }\r\n}\r\n","\r\nconst keyCodes = {\r\n  'ARROW_LEFT': 37,\r\n  'ARROW_TOP': 38,\r\n  'ARROW_RIGHT': 39,\r\n  'ARROW_BOTTOM': 40,\r\n  'SPACE': 32\r\n}\r\n\r\nconst codesArr = [37, 38, 39, 40, 32]\r\n\r\n\r\nfunction focusUp(tree, node) {\r\n  let prevNode = tree.prevVisibleNode(node)\r\n\r\n  if (!prevNode) {\r\n    return\r\n  }\r\n\r\n  if (prevNode.disabled()) {\r\n    return focusUp(tree, prevNode)\r\n  }\r\n\r\n  prevNode.focus()\r\n}\r\n\r\nfunction focusdDown(tree, node) {\r\n  let nextNode = tree.nextVisibleNode(node)\r\n\r\n  if (!nextNode) {\r\n    return\r\n  }\r\n\r\n  if (nextNode.disabled()) {\r\n    return focusdDown(tree, nextNode)\r\n  }\r\n\r\n  nextNode.focus()\r\n}\r\n\r\nfunction checkNode(tree, node) {\r\n  if (node.checked()) {\r\n    node.uncheck()\r\n  } else {\r\n    node.check()\r\n  }\r\n}\r\n\r\nfunction leftArrow(tree, node) {\r\n  if (node.expanded()) {\r\n    node.collapse()\r\n  } else {\r\n    let parent = node.parent\r\n\r\n    if (parent) {\r\n      parent.focus()\r\n    }\r\n  }\r\n}\r\n\r\nfunction rightArrow(tree, node) {\r\n  if (node.collapsed()) {\r\n    node.expand()\r\n  } else {\r\n    let first = node.first()\r\n\r\n    if (first) {\r\n      first.focus()\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default function(tree) {\r\n  const vm = tree.vm\r\n  const $el = vm.$el\r\n\r\n  $el.addEventListener('keydown', e => {\r\n    let code = e.keyCode\r\n    let node = tree.activeElement\r\n\r\n    if (!tree.isNode(node)) {\r\n      return\r\n    }\r\n\r\n    if (codesArr.includes(code)) {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n    }\r\n\r\n    switch(code) {\r\n      case keyCodes.ARROW_LEFT: return leftArrow(tree, node)\r\n      case keyCodes.ARROW_RIGHT: return rightArrow(tree, node)\r\n      case keyCodes.ARROW_TOP: return focusUp(tree, node)\r\n      case keyCodes.ARROW_BOTTOM: return focusdDown(tree, node)\r\n      case keyCodes.SPACE: return checkNode(tree, node)\r\n    }\r\n  }, true)\r\n\r\n};\r\n","import Tree from '@/lib/Tree'\r\nimport initKeyboardNavigation from '@/utils/keyboardNavigation'\r\n\r\n\r\nexport default {\r\n  mounted() {\r\n    const tree = new Tree(this)\r\n\r\n    this.model = tree.parse(this.data, this.options.modelParse)\r\n\r\n    this.tree = tree\r\n    this.tree.setModel(this.model)\r\n\r\n    this._provided.tree = tree\r\n\r\n    if (false !== this.options.keyboardNavigation) {\r\n      initKeyboardNavigation(tree)\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selected() {\r\n      if (this.options.multiple) {\r\n        return this.tree.selectedNodes\r\n      }\r\n\r\n      return this.tree.selectedNodes[0] || null\r\n    },\r\n\r\n    checked() {\r\n      if (!this.options.checkbox) {\r\n        return null\r\n      }\r\n\r\n      return this.tree.checkedNodes\r\n    },\r\n\r\n    append(criteria, node) {\r\n      // append to model\r\n      if (!node) {\r\n        return this.tree.addToModel(criteria, this.tree.model.length)\r\n      }\r\n\r\n      return this.tree.append(criteria, node)\r\n    },\r\n\r\n    prepend(criteria, node) {\r\n      if (!node) {\r\n        return this.tree.addToModel(criteria, 0)\r\n      }\r\n\r\n      return this.tree.prepend(criteria, node)\r\n    },\r\n\r\n    addChild(criteria, node) {\r\n      return this.append(criteria, node)\r\n    },\r\n\r\n    remove(criteria) {\r\n      return this.tree.remove(criteria)\r\n    },\r\n\r\n    before(criteria, node) {\r\n      if (!node) {\r\n        return this.prepend(criteria)\r\n      }\r\n\r\n      return this.tree.before(criteria, node)\r\n    },\r\n\r\n    after(criteria, node) {\r\n      if (!node) {\r\n        return this.append(criteria)\r\n      }\r\n\r\n      return this.tree.after(criteria, node)\r\n    },\r\n\r\n    find(criteria) {\r\n      return this.tree.find(criteria)\r\n    }\r\n  }\r\n\r\n};\r\n","<template>\r\n  <div class=\"tree\" role=\"tree\">\r\n    <ul class=\"tree-root\">\r\n      <node\r\n        v-for=\"node in model\"\r\n        v-if=\"node.visible()\"\r\n\r\n        :key=\"node.id\"\r\n        :node=\"node\"\r\n        :options=\"options\"\r\n      />\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import TreeNode from '@/components/TreeNode'\r\n  import TreeMixin from '@/mixins/TreeMixin'\r\n  import Tree from '@/lib/Tree'\r\n\r\n  const defaults = {\r\n    multiple: true,\r\n    checkbox: false,\r\n    checkOnSelect: false,\r\n    autoCheckChildren: true,\r\n    parentSelect: false,\r\n    keyboardNavigation: true,\r\n    paddingLeft: 24\r\n  }\r\n\r\n  export default {\r\n    name: 'Tree',\r\n    components: {\r\n      'node': TreeNode\r\n    },\r\n\r\n    mixins: [TreeMixin],\r\n\r\n    provide: _ => ({\r\n      tree: null\r\n    }),\r\n\r\n    props: {\r\n      data: {\r\n        type: Array,\r\n        default: _ => []\r\n      },\r\n\r\n      options: {\r\n        type: Object,\r\n        default: _ => ({})\r\n      }\r\n    },\r\n\r\n    data() {\r\n      // we should not mutating a prop directly...\r\n      // that's why we add if it necessary\r\n      for (let prop in defaults) {\r\n        if ( false === (prop in this.options) ) {\r\n          this.options[prop] = defaults[prop]\r\n        }\r\n      }\r\n\r\n      return {\r\n        model: null,\r\n        tree: null\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .tree {\r\n    overflow: auto;\r\n  }\r\n\r\n  .tree-root,\r\n  .tree-children {\r\n    list-style: none;\r\n    padding: 0;\r\n  }\r\n\r\n  .tree > .tree-root {\r\n    padding: 3px;\r\n    box-sizing: border-box;\r\n  }\r\n</style>\r\n","import TreeRoot from '@/components/TreeRoot'\r\n\r\nconst install = Vue => {\r\n  Vue.component(TreeRoot.name, TreeRoot)\r\n}\r\n\r\nTreeRoot.install = install\r\n\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  window.Vue.use(TreeRoot)\r\n}\r\n\r\nexport default TreeRoot\r\n"],"names":["const","let","super","this"],"mappings":"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"}